<!-- HEADER -->
<div class="contentHeader">
    <a name="top"></a>

    <h1>M.Date</h1>

    <div class="directoryPath">
        modules/core/utility/date.js
    </div>

    <span class="navlink" onclick="scroll('basics')">Basics</span> &#183;
    <span class="navlink" onclick="scroll('methods')">Methods</span> &#183;
    <span class="navlink" onclick="scroll('examples')">Examples</span>
</div>
<!-- END OF HEADER -->

<!-- BASICS-->
<div class="contentBasics">
    <a name="basics"><h2 class="line">Basics</h2></a>

    <p class="text">
        Since JavaScript's date object doesn't provide lots of built-in functionality, we decided to create a
        wrapper for this, called <span class="code">M.Date</span>. This utility object is equipped with many
        convenient and easy to use methods you will need whenever you are dealing with dates.
    </p>

    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF BASICS -->

<!-- PUBLIC METHODS -->
<div class="contentMethods">
    <a name="methods"><h2 class="line">Methods</h2></a>
    <!--
        IF NO PUBLIC METHODS AVAILABLE, INSERT THIS AND DELETE THE TABLE:
        <p class="text">There are no public methods available. <br />

        ELSE LEAVE THIS TABLE:
    -->
    <table class="reference" cellpadding="0" cellspacing="0">
        <tr style="height:50px;">
            <th style="width:20%;">Name</th>
            <th style="width:30%;">Parameters</th>
            <th style="width:15%;">Return Type</th>
            <th style="width:35%;">Description</th>
        </tr>
        <tr>
            <td><span class="code">now</span></td>
            <td></td>
            <td>M.Date</td>
            <td>
                This method returns the current date, encapsulated in an <span class="code">M.Date</span> object.
            </td>
        </tr>
        <tr>
            <td><span class="code">tomorrow</span></td>
            <td></td>
            <td>M.Date</td>
            <td>
                This method internally creates the current date, transfers it 24 hours into the future and returns this
                date, encapsulated in an <span class="code">M.Date</span> object.
            </td>
        </tr>
        <tr>
            <td><span class="code">yesterday</span></td>
            <td></td>
            <td>M.Date</td>
            <td>
                This method internally creates the current date, transfers it 24 hours into the past and returns this
                date, encapsulated in an <span class="code">M.Date</span> object.
            </td>
        </tr>
        <tr>
            <td><span class="code">create</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">dateString</span> (String): The date string specifying a certain date.
                    </li>
                </ul>
            </td>
            <td>M.Date</td>
            <td>
                This method returns a date for a given date string. It is based on JS Date's parse method. The following
                formats are accepted (time and timezone are optional):
                <ul>
                    <li>11/12/2010</li>
                    <li>11/12/2010 15:28:15</li>
                    <li>11/12/2010 13:28:15 GMT</li>
                    <li>11/12/2010 15:28:15 GMT+0200</li>
                    <li>12 November 2010</li>
                    <li>12 November 2010 15:28:15</li>
                    <li>12 November 2010 13:28:15 GMT</li>
                    <li>12 November 2010 15:28:15 GMT+0200</li>
                    <li>12 Nov 2010</li>
                    <li>12 Nov 2010 15:28:15</li>
                    <li>12 Nov 2010 13:28:15 GMT</li>
                    <li>12 Nov 2010 15:28:15 GMT+0200</li>
                </ul>
                If a wrong formatted date string is given, the method will return null. Otherwise an
                <span class="code">M.Date</span> object will be returned.
            </td>
        </tr>
        <tr>
            <td><span class="code">format</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">format</span> (String): The format for your date.
                    </li>
                </ul>
            </td>
            <td>String</td>
            <td>
                This method formats a given date object according to the passed <span class="code">format</span> property and
                returns it as a String. The following list defines the special characters that can be
                used in the <span class="code">format</span> property to format the given date:
                <ul>
                    <li><span class="code">d</span> Day of the month as digits; no leading zero for single-digit days.</li>
                    <li><span class="code">dd</span> Day of the month as digits; leading zero for single-digit days.</li>
                    <li><span class="code">ddd</span> Day of the week as a three-letter abbreviation.</li>
                    <li><span class="code">dddd</span> Day of the week as its full name.</li>
                    <li><span class="code">D</span> Day of the week as number.</li>
                    <li><span class="code">m</span> Month as digits; no leading zero for single-digit months.</li>
                    <li><span class="code">mm</span> Month as digits; leading zero for single-digit months.</li>
                    <li><span class="code">mmm</span> Month as a three-letter abbreviation.</li>
                    <li><span class="code">mmmm</span> Month as its full name.</li>
                    <li><span class="code">yy</span> Year as last two digits; leading zero for years less than 10.</li>
                    <li><span class="code">yyyy</span> Year represented by four digits.</li>
                    <li><span class="code">h</span> Hours; no leading zero for single-digit hours (12-hour clock).</li>
                    <li><span class="code">hh</span> Hours; leading zero for single-digit hours (12-hour clock).</li>
                    <li><span class="code">HH</span> ours; no leading zero for single-digit hours (24-hour clock).</li>
                    <li><span class="code">HH</span> Hours; leading zero for single-digit hours (24-hour clock).</li>
                    <li><span class="code"></span> MMinutes; no leading zero for single-digit minutes.</li>
                    <li><span class="code">MM</span> Minutes; leading zero for single-digit minutes.</li>
                    <li><span class="code">s</span> Seconds; no leading zero for single-digit seconds.</li>
                    <li><span class="code">ss</span> Seconds; leading zero for single-digit seconds.</li>
                    <li><span class="code">l or L</span> Milliseconds. l gives 3 digits. L gives 2 digits.</li>
                    <li><span class="code">t</span> Lowercase, single-character time marker string: a or p.</li>
                    <li><span class="code">tt</span> Lowercase, two-character time marker string: am or pm.</li>
                    <li><span class="code">T</span> Uppercase, single-character time marker string: A or P.</li>
                    <li><span class="code">TT</span> Uppercase, two-character time marker string: AM or PM.</li>
                    <li><span class="code">Z</span> US timezone abbreviation, e.g. EST or MDT. With non-US timezones or in the Opera browser, the GMT/UTC offset is returned, e.g. GMT-0500</li>
                    <li><span class="code">o</span> GMT/UTC timezone offset, e.g. -0500 or +0230.</li>
                    <li><span class="code">S</span> The date's ordinal suffix (st, nd, rd, or th). Works well with d.</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><span class="code">getTimestamp</span></td>
            <td></td>
            <td>Number</td>
            <td>
                This method returns the current date as a timestamp, e.g: 1308907720887
            </td>
        </tr>
        <tr>
            <td><span class="code">daysFromNow</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">days</span> (Number): The number of days to be added to or subtracted from
                        the current date.
                    </li>
                </ul>
            </td>
            <td>M.Date</td>
            <td>
                This method returns a date in the future or past, based on <span class="code">days</span>. Basically it adds or subtracts x
                times the milliseconds of a day, but also checks for clock changes and automatically includes these
                into the calculation of the future or past date.
            </td>
        </tr>
        <tr>
            <td><span class="code">daysFromDate</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">days</span> (Number): The number of days to be added to or subtracted from
                        the current date.
                    </li>
                </ul>
            </td>
            <td>M.Date</td>
            <td>
                This method returns a date in the future or past, based on <span class="code">days</span> and the current date. Basically it
                adds or subtracts x times the milliseconds of a day, but also checks for clock changes and automatically
                includes these into the calculation of the future or past date.
            </td>
        </tr>
        <tr>
            <td><span class="code">hoursFromNow</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">hours</span> (Number): The number of hours to be added to or subtracted from
                        the current date.
                    </li>
                </ul>
            </td>
            <td>M.Date</td>
            <td>
                This method returns a date in the future or past, based on <span class="code">hours</span>. Basically it adds or subtracts x
                times the milliseconds of an hour, but also checks for clock changes and automatically includes these
                into the calculation of the future or past date.
            </td>
        </tr>
        <tr>
            <td><span class="code">hoursFromDate</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">hours</span> (Number): The number of hours to be added to or subtracted from
                        the current date.
                    </li>
                </ul>
            </td>
            <td>M.Date</td>
            <td>
                This method returns a date in the future or past, based on <span class="code">hours</span> and the current date. Basically it
                adds or subtracts x times the milliseconds of an hour, but also checks for clock changes and automatically
                includes these into the calculation of the future or past date.
            </td>
        </tr>
        <tr>
            <td><span class="code">minutesFromNow</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">minutes</span> (Number): The number of minutes to be added to or subtracted from
                        the current date.
                    </li>
                </ul>
            </td>
            <td>M.Date</td>
            <td>
                This method returns a date in the future or past, based on <span class="code">minutes</span>. Basically it adds or subtracts x
                times the milliseconds of a minute, but also checks for clock changes and automatically includes these
                into the calculation of the future or past date.
            </td>
        </tr>
        <tr>
            <td><span class="code">minutesFromDate</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">minutes</span> (Number): The number of minutes to be added to or subtracted from
                        the current date.
                    </li>
                </ul>
            </td>
            <td>M.Date</td>
            <td>
                This method returns a date in the future or past, based on <span class="code">minutes</span> and the current date. Basically it
                adds or subtracts x times the milliseconds of a minute, but also checks for clock changes and automatically
                includes these into the calculation of the future or past date.
            </td>
        </tr>
        <tr>
            <td><span class="code">secondsFromNow</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">seconds</span> (Number): The number of seconds to be added to or subtracted from
                        the current date.
                    </li>
                </ul>
            </td>
            <td>M.Date</td>
            <td>
                This method returns a date in the future or past, based on <span class="code">seconds</span>. Basically it adds or subtracts x
                times the milliseconds of a second, but also checks for clock changes and automatically includes these
                into the calculation of the future or past date.
            </td>
        </tr>
        <tr>
            <td><span class="code">secondsFromDate</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">seconds</span> (Number): The number of seconds to be added to or subtracted from
                        the current date.
                    </li>
                </ul>
            </td>
            <td>M.Date</td>
            <td>
                This method returns a date in the future or past, based on <span class="code">seconds</span> and the current date. Basically it
                adds or subtracts x times the milliseconds of a second, but also checks for clock changes and automatically
                includes these into the calculation of the future or past date.
            </td>
        </tr>
        <tr>
            <td><span class="code">millisecondsFromNow</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">milliseconds</span> (Number): The number of milliseconds to be added to or
                        subtracted from the current date.
                    </li>
                </ul>
            </td>
            <td>M.Date</td>
            <td>
                This method returns a date in the future or past, based on <span class="code">milliseconds</span>. Basically it adds or subtracts
                x milliseconds, but also checks for clock changes and automatically includes these
                into the calculation of the future or past date.
            </td>
        </tr>
        <tr>
            <td><span class="code">millisecondsFromDate</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">milliseconds</span> (Number): The number of milliseconds to be added to or
                        subtracted from the current date.
                    </li>
                </ul>
            </td>
            <td>M.Date</td>
            <td>
                This method returns a date in the future or past, based on <span class="code">milliseconds</span> and the current date. Basically it
                adds or subtracts x milliseconds, but also checks for clock changes and automatically
                includes these into the calculation of the future or past date.
            </td>
        </tr>
        <tr>
            <td><span class="code">timeBetween</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">date</span> (M.Date): The date.
                    </li>
                    <li>
                        <span class="code">returnType</span> (String): The return type for the call.
                    </li>
                </ul>
            </td>
            <td>Number</td>
            <td>
                This method returns the time between two dates, based on the given returnType. Possible return types are:
                <ul>
                    <li><span class="code">M.MILLISECONDS</span>: milliseconds</li>
                    <li><span class="code">M.SECONDS</span>: seconds</li>
                    <li><span class="code">M.MINUTES</span>: minutes</li>
                    <li><span class="code">M.HOURS</span>: hours</li>
                    <li><span class="code">M.DAYS</span>: days</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><span class="code">getCalendarWeek</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">year</span> (Number): The year part of the date, e.g. 2011. Must be four digits.
                    </li>
                    <li>
                        <span class="code">month</span> (Number): The month part of the date: 0-11. Must be one/two digit.
                    </li>
                    <li>
                        <span class="code">day</span> (Number): The day part of the date: 1-31. Must be one/two digits.
                    </li>
                </ul>
            </td>
            <td>Number</td>
            <td>
                This method computes the calendar week of a date. It can either be executed on a M.Date object, to get
                the calendar week of that date, or you can pass parameters to get the calendar week for the specified
                date.
            </td>
        </tr>
        <tr>
            <td><span class="code">getDatesOfCalendarWeek</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">calendarWeek</span> (Number): The calendar week. Note: Pass 'null' if you use
                        this method on an existing M.Date object.
                    </li>
                    <li>
                        <span class="code">startWeekOnMonday</span> (Boolean): Determines whether a week starts on monday
                        or sunday. Optional, default is <span class="code">NO</span>.
                    </li>
                    <li>
                        <span class="code">year</span> (Number): The year. Optional, default is current year.
                    </li>
                </ul>
            </td>
            <td>Array</td>
            <td>
                This method returns an array containing all dates within one calendar week as an
                <span class="code">M.Date</span> object.. If no parameters are given, the calendar
                week of the current date is taken.
            </td>
        </tr>
        <tr>
            <td><span class="code">getDateByWeekdayAndCalendarWeek</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">calendarWeek</span> (Number): The calendar week.
                        or sunday. Optional, default is <span class="code">NO</span>.
                    </li>
                    <li>
                        <span class="code">dayOfWeek</span> (Number): The day of the week (0 = sunday, ..., 7 = saturday).
                    </li>
                    <li>
                        <span class="code">year</span> (Number): The year. Optional, default is current year.
                    </li>
                </ul>
            </td>
            <td>M.Date</td>
            <td>
                This method returns a date (<span class="code">M.Date</span>) for a given calendar week and day of this week.
            </td>
        </tr>
    </table>

    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF METHODS -->

<!-- EXAMPLE -->
<div class="contentExample">
    <a name="examples"><h2 class="line">Example</h2></a>

    <h3>
        Creating and displaying dates
    </h3>
    <p class="text">
        Take a look at the number of methods, you can see that this object is capable of quite a few things. But let's
        start by setting up a date and displaying it on the screen.
        <div class="note">
            Note: All of the following examples are executable right in the console of your browser. Within a real application
            you would typically use this stuff inside of a controller.
        </div>
    </p>
<pre class="syntax javascript">
/* get the current date */
var date = M.Date.now();

/* print the current date in a certain format on the console, e.g. '06/24/2011 13:28' */
var dateString = date.format('mm/dd/yyyy HH:MM');
console.log(dateString);

/* create a date out of a string */
var date = M.Date.create('06/24/2011 13:28');

/* print the timestamp of that date on the console, e.g. '1308914880000' */
var dateString = date.getTimestamp();
console.log(dateString);</pre>

    <h3>
        Computing dates in the future/past
    </h3>
    <p class="text">
        Ok, so now we know how to create a date out of a given string and how to simply receive the current date. But
        what about calculating dates in the future/past? We included some helpers for that, too. So let's say your
        application needs to know when a period of 20 days ends, based on a given date. The following examples show
        you how to do this and other, similar, stuff.
    </p>
<pre class="syntax javascript">
/* get the current date and display it, e.g. '06/24/2011 13:28' */
var date = M.Date.now();
var dateString = date.format('mm/dd/yyyy HH:MM');
console.log(dateString);

/* add 20 days to that date and display it, e.g. '07/14/2011 13:28' */
date = date.daysFromDate(20);
dateString = date.format('mm/dd/yyyy HH:MM');
console.log(dateString);

/* now subtract 8 hours from that date and display it, e.g. '07/14/2011 05:28' */
date = date.hoursFromDate(-8);
dateString = date.format('mm/dd/yyyy HH:MM');
console.log(dateString);

/* finally add 53 minutes to that date and display it, e.g. '07/14/2011 06:21' */
date = date.minutesFromDate(53);
dateString = date.format('mm/dd/yyyy HH:MM');
console.log(dateString);</pre>
    <h3>
        Computing the time between dates
    </h3>
    <p class="text">
        Another typical use case is that you need to compare two dates and to compute the difference between them.
        Therefore we provide a method called <span class="code">timeBetween</span>.
    </p>
<pre class="syntax javascript">
/* get the current date */
var date1 = M.Date.now();
console.log(date1.format('mm/dd/yyyy HH:MM:ss:l'));

/* get a seconds date based on the first + 12 days, 4 hours and 23 minutes */
var date2 = date1.daysFromDate(12).hoursFromDate(4).minutesFromDate(23);
console.log(date2.format('mm/dd/yyyy HH:MM:ss:l'));

/* get the difference between these dates (in minutes) and display it: 17543 (minutes) */
var difference = date1.timeBetween(date2, M.MINUTES);
console.log(difference);

/* check: 12 days + 4 hours + 23 minutes = (((12 * 24) + 4) * 60) + 23 = 17543 */
console.log((((12 * 24) + 4) * 60) + 23);</pre>
    <h3>
        Working with calendar weeks
    </h3>
    <p class="text">
        Finally let's take a look at how to work with calendar weeks. There are methods available for getting a
        calendar week and retrieving its containing dates. These methods can be called either on a existing
        <span class="code">M.Date</span> object or on the prototype.
    </p>
<pre class="syntax javascript">
/* get the current date */
var date = M.Date.now();

/* get its calendar week and display it, e.g.: 25 */
var calendarWeek = date.getCalendarWeek();
console.log(calendarWeek);

/* get the calendar week by using the prototype and a certain date (24/6/2011) and display it, e.g.: 25 */
var calendarWeek = M.Date.getCalendarWeek(2011, 5, 24);
console.log(calendarWeek);

/* get the dates of a calendar week (starting with sunday) */
var dates = date.getDatesOfCalendarWeek();
console.log(dates);

/* get the dates of a calendar week (starting with monday) */
var dates = date.getDatesOfCalendarWeek(null, YES);
console.log(dates);

/* get the dates of a calendar week (starting with sunday) by using the prototype */
var dates = M.Date.getDatesOfCalendarWeek(25);
console.log(dates);

/* get a date by a calendar week (25) and a day of that week (0 = sunday, ..., 7 = saturday)  */
var date = M.Date.getDateByWeekdayAndCalendarWeek(25, 5);
console.log(date.format('mm/dd/yyyy HH:MM'));</pre>
    
    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF EXAMPLE -->