<!-- HEADER -->
<div class="contentHeader">
    <a name="top"></a>

    <h1>M.DatePickerView</h1>

    <div class="directoryPath">
        A touch-optimized and cross-platform date picker based on mobiscroll.
    </div>

    <!-- remove unused links -->
    <span class="navlink" onclick="scroll('basics')">Basics</span> &#183;
    <span class="navlink" onclick="scroll('screens')">Screenshots</span> &#183;
    <span class="navlink" onclick="scroll('properties')">Properties</span> &#183;
    <span class="navlink" onclick="scroll('methods')">Methods</span> &#183;
    <span class="navlink" onclick="scroll('events')">Events</span> &#183;
    <span class="navlink" onclick="scroll('example')">Example</span> &#183;
    <span class="navlink" onclick="scroll('css')">CSS Styles</span>
</div>
<!-- END OF HEADER -->


<!-- BASICS-->
<div class="contentBasics">
    <a name="basics"><h2 class="line">Basics</h2></a>

    <p class="text">
        A date picker is a special view, that can be called out of a controller. It is shown as a date
        picker popup, based on the mobiscroll library. You can either connect a date picker with an
        existing view and automatically pass the selected date to the source's value property, or you
        can simply use the date picker to select a date, return it to the controller (respectively the
        callback) and handle the date by yourself.
    </p>

    <div class="note">
        Note: If you plan on using HTML5's date input type, you should stick with
        <span class="navlink" onclick="loadArticle('views/m_textfieldview');">M.TextFieldView</span> instead.
    </div>

    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF BASICS -->

<!-- SCREENSHOTS -->
<div class="contentScreenshots">
    <a name="screens"><h2 class="line">Screenshots</h2></a>

    <div class="screens">
            <img src="images/views/screen_datepickerview_1.png" alt="M.DatePickerView" />
            <img src="images/views/screen_datepickerview_2.png" alt="M.DatePickerView" />
    </div>
    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF SCREENSHOTS -->


<!-- PROPERTIES -->
<div class="contentProperties">
    <a name="properties"><h2 class="line">Properties</h2></a>
    <table class="reference" cellpadding="0" cellspacing="0">
        <tr style="height:50px;">
            <th style="width:20%;">Name</th>
            <th style="width:15%;">Relevance</th>
            <th style="width:10%;">Type</th>
            <th style="width:20%;">Default value</th>
            <th style="width:35%;">Description</th>
        </tr>
        <tr>
            <td><span class="code">callbacks</span></td>
            <td>optional</td>
            <td>Object</td>
            <td style="font-family:monospace"></td>
            <td>
                This property can be used to specify several callbacks for the date picker view. There are three types of callbacks available:
                <ul>
                    <li>
                        <span class="code">before</span><br/>
                        This callback gets called, right before the date picker is shown. It passes along two parameters:
                        <ul>
                            <li><span class="code">value</span>: The initial date of the date picker, formatted as a string</li>
                            <li><span class="code">date</span>: The initial date of the date picker as d8 object</li>
                        </ul>
                    </li>
                    <li>
                        <span class="code">confirm</span><br/>
                        This callback gets called, when a selected date was confirmed. It passes along two two parameters:
                        <ul>
                            <li><span class="code">value</span>: The initial date of the date picker, formatted as a string</li>
                            <li><span class="code">date</span>: The initial date of the date picker as d8 object</li>
                        </ul>
                    </li>
                    <li>
                        <span class="code">cancel</span><br/>
                        This callback gets called, when the cancel button is hit. It doesn't pass any parameters.
                    </li>
                </ul>
                Setting up one of those callbacks works the same as with other controls of The-M-Project. You simply have to specify an object containing a target function, e.g.:
<pre class="syntax javascript">callbacks: {
    confirm: {
        target: this,
        action: 'dateSelected'
    },
    cancel: {
        action: function() {
            // do something
        }
    }
}</pre>
            </td>
        </tr>
        <tr>
            <td><span class="code">endYear</span></td>
            <td>recommended</td>
            <td>Number</td>
            <td style="font-family:monospace">current + 20</td>
            <td>
                <p class="test">
                    This property can be used to specify the last year of the 'year' scroller. By default, this
                    will be set to 20 years after the current year.
                </p>
            </td>
        </tr>
        <tr>
            <td><span class="code">dayLabel</span></td>
            <td>optional</td>
            <td>String</td>
            <td style="font-family:monospace">Day</td>
            <td>
                <p class="test">
                    This property specified the label shown above of the 'day' scroller.
                </p>

                <div class="note">
                    Note: This label is only shown if the 'showLabels' property is set to YES.
                </div>
            </td>
        </tr>
        <tr>
            <td><span class="code">hoursLabel</span></td>
            <td>optional</td>
            <td>String</td>
            <td style="font-family:monospace">Hours</td>
            <td>
                <p class="test">
                    This property specified the label shown above of the 'hours' scroller.
                </p>

                <div class="note">
                    Note: This label is only shown if the 'showLabels' property is set to YES.
                </div>
            </td>
        </tr>
        <tr>
            <td><span class="code">initialDate</span></td>
            <td>optional</td>
            <td>String|Object</td>
            <td style="font-family:monospace"></td>
            <td>
                <p class="test">
                    This property can be used to specify the initial date for the date picker. If you use
                    the date picker without a source, this date is always picked as the initial date. If
                    nothing is specified, the current date will be displayed.
                </p>

                <p class="test">
                    If you use the date picker with a valid source, the initial date is picked as long as
                    there is no valid date available by the source. Once a date was selected and assigned
                    to the source, this is taken as initial date the next time the date picker is opened.
                </p>
            </td>
        </tr>
        <tr>
            <td><span class="code">minutesLabel</span></td>
            <td>optional</td>
            <td>String</td>
            <td style="font-family:monospace">Minutes</td>
            <td>
                <p class="test">
                    This property specified the label shown above of the 'minutes' scroller.
                </p>

                <div class="note">
                    Note: This label is only shown if the 'showLabels' property is set to YES.
                </div>
            </td>
        </tr>
        <tr>
            <td><span class="code">monthLabel</span></td>
            <td>optional</td>
            <td>String</td>
            <td style="font-family:monospace">Month</td>
            <td>
                <p class="test">
                    This property specified the label shown above of the 'month' scroller.
                </p>

                <div class="note">
                    Note: This label is only shown if the 'showLabels' property is set to YES.
                </div>
            </td>
        </tr>
        <tr>
            <td><span class="code">showAmPm</span></td>
            <td>optional</td>
            <td>Boolean</td>
            <td style="font-family:monospace">YES</td>
            <td>
                <p class="test">
                    You can use this property to enable or disable the AM/PM scroller. If set to NO,
                    the date picker will use the 24h format.
                </p>
            </td>
        </tr>
        <tr>
            <td><span class="code">showDatePicker</span></td>
            <td>optional</td>
            <td>Boolean</td>
            <td style="font-family:monospace">YES</td>
            <td>
                <p class="test">
                    This property can be used to specify whether to show scrollers for picking a date or not.
                </p>

                <div class="note">
                    Note: If both this and the 'showTimePicker' property are set to NO, no date picker will
                    be shown.
                </div>
            </td>
        </tr>
        <tr>
            <td><span class="code">showLabels</span></td>
            <td>optional</td>
            <td>Boolean</td>
            <td style="font-family:monospace">YES</td>
            <td>
                <p class="test">
                    This property can be used to specify whether or not to show labels above of the scrollers.
                    If set to YES, the labels specified with the '...Label' properties are displayed above of
                    the corresponding scroller.
                </p>
            </td>
        </tr>
        <tr>
            <td><span class="code">showTimePicker</span></td>
            <td>optional</td>
            <td>Boolean</td>
            <td style="font-family:monospace">YES</td>
            <td>
                <p class="test">
                    This property can be used to specify whether to show scrollers for picking a time or not.
                </p>

                <div class="note">
                    Note: If both this and the 'showDatePicker' property are set to NO, no date picker will
                    be shown.
                </div>
            </td>
        </tr>
        <tr>
            <td><span class="code">source</span></td>
            <td>optional</td>
            <td>String|Object</td>
            <td style="font-family:monospace"></td>
            <td>
                <p class="test">
                    This property is used to link the date picker to a source. You can either pass the DOM id of
                    the corresponding source or the javascript object itself. Linking the date picker directly
                    to a source results in automatic value updates of this source.
                </p>

                <div class="note">
                    Note: Valid sources need to provide a setValue() method.
                </div>

                <p class="test">
                    If you do not pass a source, the date picker isn't linked to any view. It simply returns the
                    selected value/date to given callbacks. So you can call the date picker out of a controller
                    and handle the selected date all by yourself.
                </p>
            </td>
        </tr>
        <tr>
            <td><span class="code">startYear</span></td>
            <td>recommended</td>
            <td>Number</td>
            <td style="font-family:monospace">current - 20</td>
            <td>
                <p class="test">
                    This property can be used to specify the first year of the 'year' scroller. By default, this
                    will be set to 20 years before the current year.
                </p>
            </td>
        </tr>
        <tr>
            <td><span class="code">useSourceDateAsInitialDate</span></td>
            <td>optional</td>
            <td>Boolean</td>
            <td style="font-family:monospace">YES</td>
            <td>
                <p class="test">
                    This property can be used to determine whether to use the data source's value as initial date
                    or not. If there is no source specified, this property is irrelevant.
                </p>

                <div class="note">
                    Note: If there is a source specified and this property is set to NO, the 'initialDate' property
                    will be used anyway if there is no date value available for the source!
                </div>
            </td>
        </tr>
        <tr>
            <td><span class="code">yearLabel</span></td>
            <td>optional</td>
            <td>String</td>
            <td style="font-family:monospace">Year</td>
            <td>
                <p class="test">
                    This property specified the label shown above of the 'year' scroller.
                </p>

                <div class="note">
                    Note: This label is only shown if the 'showLabels' property is set to YES.
                </div>
            </td>
        </tr>
    </table>
    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF PROPERTIES -->

<!-- PUBLIC METHODS -->
<div class="contentMethods">
    <a name="methods"><h2 class="line">Methods</h2></a>
    <!--
        IF NO PUBLIC METHODS AVAILABLE, INSERT THIS AND DELETE THE TABLE:
        <p class="text">There are no public methods available.</p>

        ELSE LEAVE THIS TABLE:
    -->
    <table class="reference" cellpadding="0" cellspacing="0">
        <tr style="height:50px;">
            <th style="width:20%;">Name</th>
            <th style="width:30%;">Parameters</th>
            <th style="width:15%;">Return Type</th>
            <th style="width:35%;">Description</th>
        </tr>
        <tr>
            <td><span class="code">setValue</span></td>
            <td>
                <ul class="isFirstLine">
                    <li>
                        <span class="code">value</span> (String): The value to be applied on the label view..
                    </li>
                </ul>
            </td>
            <td></td>
            <td>Sets the label's value and initiates its re-rendering.</td>
        </tr>
    </table>
    
    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF METHODS -->


<!-- PUBLIC EVENTS -->
<div class="contentEvents">
    <a name="events"><h2 class="line">Events</h2></a>
    <table class="reference" cellpadding="0" cellspacing="0">
        <tr style="height:50px;">
            <th style="width:20%;">Name</th>
            <th style="width:30%;">Passed Properties</th>
            <th style="width:50%;">Description</th>
        </tr>
        <tr>
            <td><span class="code">tap</span></td>
            <td>
                <ul class="isFirstLine">
                    <li>
                        <span class="code">viewId</span> (String): The Id of the label, e.g. 'm_502';
                    </li>
                    <li>
                        <span class="code">event</span> (Object): The event object.
                    </li>
                </ul>
            </td>
            <td>
                The event is fired when a user taps on the label.
            </td>
        </tr>
    </table>

    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF EVENTS -->

<!-- EXAMPLE -->
<div class="contentExample">
    <a name="example"><h2 class="line">Example</h2></a>

    <p class="text">
        <!-- TEXT THAT DESCRIBES THE EXAMPLE AND GIVES ADDITIONAL HINTS -->
    </p>
<pre class="syntax javascript">
M.LabelView.design({
    value: 'Hello, World',
    cssClass: 'bigLabel'
});</pre>
<p class="text">
A label with a content binding:
</p>
<pre class="syntax javascript">
M.LabelView.design({
    value: '',
    cssClass: 'bigLabel',
    contentBinding: {
        target: myApp.myController,
        property: 'labelText'
    }
});

/* activating content binding in a controller action */
...
this.set('labelText', 'Hello, World');</pre>
<p class="text">
A label using computed value:
</p>
<pre class="syntax javascript">
M.LabelView.design({
    cssClass: 'dateLabel',
    computedValue: {
        contentBinding: {
            target: myApp.myController,
            property: 'timestamp'
        },
        value: '',
        operation: function(v) { /* format timestamp to a readable date string */
            return M.Date.create(v).format('dd.mm.yyyy HH:MM:ss');
        }
    }
});

/* activating content binding in a controller action */
...
this.set('timestamp', 1307720438815);</pre>
<p class="text">
A label representing a hyperlink to a website:
</p>
<pre class="syntax javascript">
M.LabelView.design({
    cssClass: 'urlLabel',
    value: 'Go to www.the-m-project.org',
    hyperlinkTarget: 'http://www.the-m-project.org',
    hyperlinkType: M.HYPERLINK_WEBSITE
});</pre>
    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF EXAMPLE -->

<!-- CSS STYLES -->
<div class="contentCss">
    <a name="css"><h2 class="line">CSS Styles</h2></a>

    <p class="text">
        No CSS classes are added to the LabelView by default.
        Style it by passing classes to it via the <span class="code">cssClass</span>
        property.
    </p>

    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF CSS -->