<!-- HEADER -->
<div class="contentHeader">
    <a name="top"></a>

    <h1>M.MapView</h1>

    <div class="directoryPath">
        modules/ui/map.js
    </div>

    <!-- remove unused links -->
    <span class="navlink" onclick="scroll('basics')">Basics</span> &#183;
    <span class="navlink" onclick="scroll('screens')">Screenshots</span> &#183;
    <span class="navlink" onclick="scroll('properties')">Properties</span> &#183;
    <span class="navlink" onclick="scroll('methods')">Methods</span> &#183;
    <span class="navlink" onclick="scroll('events')">Events</span> &#183;
    <span class="navlink" onclick="scroll('example')">Example</span> &#183;
    <span class="navlink" onclick="scroll('css')">CSS Styles</span>
</div>
<!-- END OF HEADER -->


<!-- BASICS-->
<div class="contentBasics">
    <a name="basics"><h2 class="line">Basics</h2></a>

    <p class="text">
        M.MapView defines a set of methods for displaying a map, setting markers on that map and displaying the user's
        current location. It is based on the Google Maps Javascript API V3 and basically wraps all important features
        available in this great API.
    </p>

    <div class="note text">
        Note: Since the map data is loaded dynamically using the Google Maps Javascript API V3 and is not part of
        the application itself, M.MapView only works if there is a network connection available.
    </div>

    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF BASICS -->

<!-- SCREENSHOTS -->
<div class="contentScreenshots">
    <a name="screens"><h2 class="line">Screenshots</h2></a>

    <div class="screens">
        <img src="images/views/screen_mapview.png" alt="M.MapView" />
    </div>
    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF SCREENSHOTS -->


<!-- PROPERTIES -->
<div class="contentProperties">
    <a name="properties"><h2 class="line">Properties</h2></a>
    <table class="reference" cellpadding="0" cellspacing="0">
        <tr style="height:50px;">
            <th style="width:20%;">Name</th>
            <th style="width:15%;">Relevance</th>
            <th style="width:10%;">Type</th>
            <th style="width:20%;">Default value</th>
            <th style="width:35%;">Description</th>
        </tr>
        <tr>
            <td><span class="code">callbacks</span></td>
            <td>recommended</td>
            <td>Object</td>
            <td style="font-family:monospace"></td>
            <td>
                This property, if set, contains the map view's callback in sub a object named 'error',
                which will be called if no connection is available and the map service (google maps api)
                can not be loaded. E.g. you can specify something like:
<pre class="syntax javascript">
callbacks: {
    error: {
        target: MyApp.MyController,
        action: 'noConnectionAvailable'
    }
}
</pre>
            </td>
        </tr>
        <tr>
            <td><span class="code">initialLocation</span></td>
            <td>recommended</td>
            <td>M.Location</td>
            <td style="font-family:monospace">
                M.Location.extend({
                    latitude: 48.813338,
                    longitude: 9.178463
                })
            </td>
            <td>
                This property specifies the initial location for this map view, as an <span class="code">M.Location</span> object.
                Its latitude and longitude properties are directly mapped to the center property of a google map view. By
                default this is set to the headquarter of developer team of The-M-Project in Stuttgart, Germany.
            </td>
        </tr>
        <tr>
            <td><span class="code">isDraggable</span></td>
            <td>optional</td>
            <td>Boolean</td>
            <td style="font-family:monospace">YES</td>
            <td>
                This property specifies whether the map is draggable or not. If set to NO, a user won't be able
                to move the map, respectively the visible sector. For further information see the google maps API
                specification: http://code.google.com/intl/en-US/apis/maps/documentation/javascript/reference.html#MapOptions
            </td>
        </tr>
        <tr>
            <td><span class="code">isInset</span></td>
            <td>optional</td>
            <td>Boolean</td>
            <td style="font-family:monospace">YES</td>
            <td>
                This property determines whether to display the map view 'inset' or at full width.
            </td>
        </tr>
        <tr>
            <td><span class="code">mapType</span></td>
            <td>optional</td>
            <td>String</td>
            <td style="font-family:monospace">M.MAP_ROADMAP</td>
            <td>
                This property specifies the map type for this map view. It is directly mapped to the 'mapTypeId' property of a google map view. Possible values for this property are:
                <ul>
                    <li>
                        M.MAP_ROADMAP --> This map type displays a normal street map.
                    </li>
                    <li>
                        M.MAP_HYBRID --> This map type displays a transparent layer of major streets on satellite images.
                    </li>
                    <li>
                        M.MAP_SATELLITE --> This map type displays satellite images.
                    </li>
                    <li>
                        M.MAP_TERRAIN --> This map type displays maps with physical features such as terrain and vegetation.
                    </li>
                </ul>
                For further information see the google maps API specification: http://code.google.com/intl/en-US/apis/maps/documentation/javascript/reference.html#MapOptions
            </td>
        </tr>
        <tr>
            <td><span class="code">markerAnimationType</span></td>
            <td>optional</td>
            <td>String</td>
            <td style="font-family:monospace">M.MAP_MARKER_ANIMATION_NONE</td>
            <td>
                This property can be used to specify the animation type for this map view's markers. The following three
                values are possible:
                <ul>
                    <li>
                        M.MAP_MARKER_ANIMATION_NONE --> no animation
                    </li>
                    <li>
                        M.MAP_MARKER_ANIMATION_DROP --> the marker drops onto the map
                    </li>
                    <li>
                        M.MAP_MARKER_ANIMATION_BOUNCE --> the marker constantly bounces
                    </li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><span class="code">removeMarkersOnUpdate</span></td>
            <td>optional</td>
            <td>Boolean</td>
            <td style="font-family:monospace">YES</td>
            <td>
                This property specifies whether or not to remove all existing markers on a map update. A map
                update can either be an automatic update due to content binding or a implicit call of the map
                view's <span class="code">updateMap()</span> method.
            </td>
        </tr>
        <tr>
            <td><span class="code">setMarkerAtInitialLocation</span></td>
            <td>optional</td>
            <td>Boolean</td>
            <td style="font-family:monospace">NO</td>
            <td>
                This property determines whether or not to show a marker at the map view's initial location.
                This location can be specified by the <span class="code">initialLocation</span> property of this map view.
            </td>
        </tr>
        <tr>
            <td><span class="code">showMapTypeControl</span></td>
            <td>optional</td>
            <td>Boolean</td>
            <td style="font-family:monospace">NO</td>
            <td>
                This property specifies whether or not to display the map type controls inside
                of this map view. For further information see the google maps API
                specification: http://code.google.com/intl/en-US/apis/maps/documentation/javascript/reference.html#MapOptions
            </td>
        </tr>
        <tr>
            <td><span class="code">showNavigationControl</span></td>
            <td>optional</td>
            <td>Boolean</td>
            <td style="font-family:monospace">NO</td>
            <td>
                This property specifies whether or not to display the navigation controls inside
                of this map view. For further information see the google maps API
                specification: http://code.google.com/intl/en-US/apis/maps/documentation/javascript/reference.html#MapOptions
            </td>
        </tr>
        <tr>
            <td><span class="code">showStreetViewControl</span></td>
            <td>optional</td>
            <td>Boolean</td>
            <td style="font-family:monospace">NO</td>
            <td>
                This property specifies whether or not to display the street view controls inside
                of this map view. For further information see the google maps API
                specification: http://code.google.com/intl/en-US/apis/maps/documentation/javascript/reference.html#MapOptions
            </td>
        </tr>
        <tr>
            <td><span class="code">zoomLevel</span></td>
            <td>optional</td>
            <td>Number</td>
            <td style="font-family:monospace">15</td>
            <td>
                This property specifies the zoom level for this map view. It is directly mapped to the
                zoom property of a google map view. For further information see the google maps API
                specification: http://code.google.com/intl/de-DE/apis/maps/documentation/javascript/reference.html#MapOptions
            </td>
        </tr>
    </table>
    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF PROPERTIES -->

<!-- PUBLIC METHODS -->
<div class="contentMethods">
    <a name="methods"><h2 class="line">Methods</h2></a>
    <!--
        IF NO PUBLIC METHODS AVAILABLE, INSERT THIS AND DELETE THE TABLE:
        <p class="text">There are no public methods available. <br />

        ELSE LEAVE THIS TABLE:
    -->
    <table class="reference" cellpadding="0" cellspacing="0">
        <tr style="height:50px;">
            <th style="width:20%;">Name</th>
            <th style="width:30%;">Parameters</th>
            <th style="width:15%;">Return Type</th>
            <th style="width:35%;">Description</th>
        </tr>
        <tr>
            <td><span class="code">clearValue</span></td>
            <td></td>
            <td></td>
            <td>
                This method clears the text field's value, both in the DOM and within the corresponding JS object.
            </td>
        </tr>
        <tr>
            <td><span class="code">setValue</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">value</span> (String): The value to be applied to the text field view..
                    </li>
                </ul>
            </td>
            <td></td>
            <td>
                This method sets the text field's value and initiates its re-rendering.
            </td>
        </tr>
    </table>
    
    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF METHODS -->


<!-- PUBLIC EVENTS -->
<div class="contentEvents">
    <a name="events"><h2 class="line">Events</h2></a>
    <!--
        IF NO PUBLIC EVENTS AVAILABLE, INSERT THIS AND DELETE THE TABLE:
        <p class="text">There are no events available. <br />

        ELSE LEAVE THIS TABLE:
    -->
    <table class="reference" cellpadding="0" cellspacing="0">
        <tr style="height:50px;">
            <th style="width:20%;">Name</th>
            <th style="width:30%;">Passed Properties</th>
            <th style="width:50%;">Description</th>
        </tr>
        <tr>
            <td><span class="code">blur</span></td>
            <td>
                <ul class="isFirstLine">
                    <li>
                        <span class="code">id</span> (String): The text field's id.
                    </li>
                    <li>
                        <span class="code">event</span> (Object): The fired event.
                    </li>
                </ul>
            </td>
            <td>
                This event is fired whenever the text field view loses the focus.
            </td>
        </tr>
        <tr>
            <td><span class="code">enter</span></td>
            <td>
                <ul class="isFirstLine">
                    <li>
                        <span class="code">id</span> (String): The text field's id.
                    </li>
                    <li>
                        <span class="code">event</span> (Object): The fired event.
                    </li>
                </ul>
            </td>
            <td>
                This event is fired when a user hits the enter button while the text field view has got the focus.
            </td>
        </tr>
        <tr>
            <td><span class="code">focus</span></td>
            <td>
                <ul class="isFirstLine">
                    <li>
                        <span class="code">id</span> (String): The text field's id.
                    </li>
                    <li>
                        <span class="code">event</span> (Object): The fired event.
                    </li>
                </ul>
            </td>
            <td>
                This event is fired whenever the text field view gets the focus.
            </td>
        </tr>
        <tr>
            <td><span class="code">keyup</span></td>
            <td>
                <ul class="isFirstLine">
                    <li>
                        <span class="code">id</span> (String): The text field's id.
                    </li>
                    <li>
                        <span class="code">event</span> (Object): The fired event.
                    </li>
                </ul>
            </td>
            <td>
                This event is fired when a user hits any button while the text field view has got the focus.
                <div class="note text">Note: By accessing the <span class="code">keyCode</span> property of the passed
                    <span class="code">event</span> object, you can get the information which key was pressed.
                </div>
            </td>
        </tr>
    </table>

    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF EVENTS -->

<!-- EXAMPLE -->
<div class="contentExample">
    <a name="example"><h2 class="line">Example</h2></a>

    <p class="text">
        The following samples show how to use <span class="code">M.ButtonGroupView</span>.
    </p>
<pre class="syntax javascript">
/* set up a default text field view */
textfield: M.TextFieldView.design({

})

/* assign an inital text and a corresponding css class */
textfield: M.TextFieldView.design({
    initialText: 'Type something...',
    cssClassOnInit: 'initialText'
})

/* link two text fields by using content binding / content binding reverse (fully working example) */

// The view
MyApp.app = M.Application.design({
	entryPage: 'page',

    page: M.PageView.design({
        childViews: 'content',

        content: M.ScrollView.design({
            childViews: 'textfield1 textfield2',

            textfield1: M.TextFieldView.design({
                contentBinding: {
                    target: MyApp.MyController,
                    property: 'textfieldvalue'
                },

                contentBindingReverse: {
                    target: MyApp.MyController,
                    property: 'textfieldvalue'
                }
            }),

            textfield2: M.TextFieldView.design({
                contentBinding: {
                    target: MyApp.MyController,
                    property: 'textfieldvalue'
                },

                contentBindingReverse: {
                    target: MyApp.MyController,
                    property: 'textfieldvalue'
                }
            })
        })
    })
});

// The controller
MyApp.MyController = M.Controller.extend({
    textfieldvalue: ''
});
</pre>
    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF EXAMPLE -->

<!-- CSS STYLES -->
<div class="contentCss">
    <a name="css"><h2 class="line">CSS Styles</h2></a>

    <p class="text">
        The styling of the loader view is done by jQuery Mobile. There are three css classes responsible for the layout:</p>
    <ul class="text">
        <li><span class="code">ui-shadow-inset</span>: This defines an inner shadow for the text field view.</li>
        <li><span class="code">ui-input-text </span>: This class defines the size, padding, line-height, font-size for the text field view.</li>
        <li><span class="code">ui-corner-all</span>: This adds round corners to the text field view.</li>
        <li><span class="code">ui-body-c</span>: This class defines some styling stuff like border, text color, text-shadow or the background.</li>
    </ul>

    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF CSS -->