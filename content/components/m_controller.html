<!-- HEADER -->
<div class="contentHeader">
    <a name="top"></a>

    <h1>M.Controller</h1>

    <div class="directoryPath">
        The control center of your application
    </div>

    <span class="navlink" onclick="scroll('basics')">Basics</span> &#183;
    <span class="navlink" onclick="scroll('methods')">Methods</span> &#183;
    <span class="navlink" onclick="scroll('examples')">Examples</span>
</div>
<!-- END OF HEADER -->

<!-- BASICS-->
<div class="contentBasics">
    <a name="basics"><h2 class="line">Basics</h2></a>

    <p class="text">
        <span class="code">M.Controller</span> is the prototype of any controller within your application. It
        basically provides two very important methods you will use in most of your applications. The first one
        is responsible for switching pages, the second one is the key to the whole content binding feature and
        triggers rendering updates if content did change.
    </p>

    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF BASICS -->

<!-- PUBLIC METHODS -->
<div class="contentMethods">
    <a name="methods"><h2 class="line">Methods</h2></a>
    <!--
        IF NO PUBLIC METHODS AVAILABLE, INSERT THIS AND DELETE THE TABLE:
        <p class="text">There are no public methods available. <br />

        ELSE LEAVE THIS TABLE:
    -->
    <table class="reference" cellpadding="0" cellspacing="0">
        <tr style="height:50px;">
            <th style="width:20%;">Name</th>
            <th style="width:30%;">Parameters</th>
            <th style="width:15%;">Return Type</th>
            <th style="width:35%;">Description</th>
        </tr>
        <tr>
            <td><span class="code">set</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">key</span> (String): The key of the property to be changed.
                    </li>
                    <li>
                        <span class="code">value</span> (Object|String): The value to be set.
                    </li>
                </ul>
            </td>
            <td></td>
            <td>
                This method initializes the notification of all observers, that observe the property behind 'key'. So you
                will use this method out of a controller to inform the application that a property, respectively some content,
                did change. See <span class="navlink" onclick="loadArticle('core_concepts/content_binding')">Content Binding</span>
                for more information about that.
            </td>
        </tr>
        <tr>
            <td><span class="code">switchToPage</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">page</span> (Object|String): The page to be displayed or its name.
                    </li>
                    <li>
                        <span class="code">transition</span> (String): The transition that should be used. Default: horizontal slide.
                    </li>
                    <li>
                        <span class="code">isBack</span> (Boolean): YES will cause a reverse-direction transition. Default: NO.
                    </li>
                    <li>
                        <span class="code">updateHistory</span> (Boolean): Update the browser history. Default: YES.
                    </li>
                </ul>
            </td>
            <td></td>
            <td>
                This method will perform a page switch based on the passed parameters or the default values. To learn more about
                how to use this method, take a look at our tutorial
                <span class="navlink" onclick="loadArticle('tutorial/how_to_switch_a_page')">How to switch a page</span>.
            </td>
        </tr>
        <tr>
            <td><span class="code">switchToTab</span></td>
            <td>
                <!-- METHOD PARAMETERS -->
                <ul class="isFirstLine">
                    <li>
                        <span class="code">tab</span> (M.TabBarView): The tab to be activated.
                    </li>
                </ul>
            </td>
            <td></td>
            <td>
                This method will perform a page switch to the passed tab. Internally this is used whenever a user taps/clicks
                on a tab. But you can also trigger such a switch programmatically out of your application if necessary.
            </td>
        </tr>
    </table>

    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF METHODS -->

<!-- EXAMPLE -->
<div class="contentExample">
    <a name="examples"><h2 class="line">Example</h2></a>

    <h3>
        Create a controller with Espresso
    </h3>
    <p class="text">
        In order to work with a controller, you will need to create one. We recommend to use the <span class="code">generate</span>
        command of Espresso to do this.
    </p>
<pre class="syntax bash">
# go to your application's directory
cd ~/the/directory/of/my/application

# use Espresso to generate a controller
espresso generate -c MyController
</pre>

    <h3>
        Computing dates in the future/past
    </h3>
    <p class="text">
        Ok, so now we know how to create a date out of a given string and how to simply receive the current date. But
        what about calculating dates in the future/past? We included some helpers for that, too. So let's say your
        application needs to know when a period of 20 days ends, based on a given date. The following examples show
        you how to do this and other, similar, stuff.
    </p>
<pre class="syntax javascript">
/* get the current date and display it, e.g. '06/24/2011 13:28' */
var date = M.Date.now();
var dateString = date.format('mm/dd/yyyy HH:MM');
console.log(dateString);

/* add 20 days to that date and display it, e.g. '07/14/2011 13:28' */
date = date.daysFromDate(20);
dateString = date.format('mm/dd/yyyy HH:MM');
console.log(dateString);

/* now subtract 8 hours from that date and display it, e.g. '07/14/2011 05:28' */
date = date.hoursFromDate(-8);
dateString = date.format('mm/dd/yyyy HH:MM');
console.log(dateString);

/* finally add 53 minutes to that date and display it, e.g. '07/14/2011 06:21' */
date = date.minutesFromDate(53);
dateString = date.format('mm/dd/yyyy HH:MM');
console.log(dateString);
</pre>
    
    <span class="navlink" onclick="scroll('top')">&uarr; top</span>
</div>
<!-- END OF EXAMPLE -->